function [stateXY] = Exploitation(Qtable)

%set limits for maze plot
limits = [0 1; 0 1;];
maze = CMazeMaze10x10(limits);
T = maze.BuildTransitionMatrix();

stateID = 1; %start at state 1
endState = 0; %init endState to 0    
steps = 2; %steps init to 2 as first state coordinates already assigned
stateXY(:,1)=[0.5;0.5]; %coordinates for starting state


%Steps
while(endState == 0)
   
   action = ExploitationActionSelection(Qtable,stateID); %choose action
   resultingState = T.tm(stateID, action); %resulting state
   stateID = resultingState; %update the state
   stateXY(:,steps) = StateCoordinates(stateID); %calculate coordinates for current state
   endState = maze.IsEndState(resultingState); %checks if the end state has been reached
   steps = steps+1; %increment steps
   
end
end

